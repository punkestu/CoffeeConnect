// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  Id            String         @id @default(uuid())
  full_name     String
  username      String         @unique
  email         String         @unique
  password      String
  role          Role           @relation(fields: [role_id], references: [Id])
  role_id       Int
  profile       User_Profile?
  Kedai_Profile Kedai_Profile?
}

model User_Profile {
  Id         String    @id @unique
  user       User      @relation(fields: [Id], references: [Id])
  birth_date DateTime?
  bio        String?
  address    String?
  phone      String?   @db.VarChar(15)
}

model Kedai_Profile {
  Id          String   @id @unique
  user        User     @relation(fields: [Id], references: [Id])
  name        String   @unique
  picture     String?
  description String
  address     String
  phone       String   @db.VarChar(15)
  Produk      Produk[]
}

model Produk {
  Id          Int           @id @default(autoincrement())
  kedai       Kedai_Profile @relation(fields: [kedaiId], references: [Id])
  kedaiId     String
  name        String
  price       Int
  description String
  picture     String?
}

model Role {
  Id        Int    @id @default(autoincrement())
  role_name String @unique
  User      User[]
}
