<main class="h-[calc(100vh-3rem)] flex items-center justify-center">
    <form method="post" class="flex flex-col gap-2 w-full px-4">
        <label for="menu" class="font-bold">Menu</label>
        <select name="menu" id="menu">
            <option value="{{bahan.produk.Id}}" selected disabled>{{bahan.produk.name}}</option>
        </select>
        <label for="bahan" class="font-bold">Nama Bahan</label>
        <input type="text" name="bahan" id="bahan" placeholder="Nama Bahan" value="{{bahan.nama}}">
        <div class="flex gap-2 w-full">
            <div class="flex flex-col w-1/2">
                <label for="qty" class="font-bold">Kuantitas</label>
                <div class="flex">
                    <input type="number" class="flex-grow" step="0.1" name="qty" id="qty" placeholder="Banyaknya" value="{{bahan.qty}}">
                    <select name="satuan" id="satuan" onchange="updateSatuan()">
                        {{#eachProduk this satuan}}
                            <option value="{{produk.Id}}" {{#ifEq this bahan.satuan.Id Id}}selected{{/ifEq}}>{{produk.nama}}</option>
                        {{/eachProduk}}
                    </select>
                </div>
            </div>
            <div class="flex flex-col w-1/2">
                <label for="harga" class="font-bold">Harga</label>
                <div class="flex border border-slate-400 gap-2 items-center bg-white">
                    <input type="number" class="flex-grow" name="harga" id="harga" placeholder="Harga" value="{{bahan.harga}}">
                    /
                    <div class="flex w-1/6 items-center">
                        <input type="number" class="w-3/4" name="per" id="per" value="{{bahan.per}}" placeholder="0" min="1">
                        <span id="satuan-per"></span>
                    </div>
                </div>
            </div>
        </div>
        <button type="submit" class="btn-primary px-4 py-2 rounded-xl self-center">Simpan</button>
    </form>
</main>
<script>
    function updateSatuan() {
        const satuan = $("#satuan").find(":selected").text();
        $("#satuan-per").html(satuan);
    }

    updateSatuan()
</script>