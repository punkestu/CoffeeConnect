<main class="h-[calc(100vh-3rem)] flex items-center justify-center flex-grow text-white">
    <form action="/bahan/edit/{{bahan.produk.Id}}" method="post" class="flex flex-col gap-2 w-full px-4">
        <label for="menu" class="font-bold">Menu Name</label>
        <select name="menu" id="menu" class="input-type">
            <option value="{{bahan.produk.Id}}" selected>{{bahan.produk.name}}</option>
        </select>
        <label for="nama" class="font-bold">Ingredient</label>
        <input type="text" name="nama" id="nama" class="input-type" placeholder="Nama Bahan" value="{{bahan.nama}}">
        <div class="flex gap-2 w-full items-center">
            <div class="flex flex-col w-1/2">
                <label for="qty" class="font-bold">Quantity</label>
                <div class="flex border border-slate-400 gap-2 items-center text-black bg-white rounded-lg">
                    <input type="number" class="flex-grow rounded-lg" step="0.1" name="qty" id="qty" placeholder="Banyaknya" value="{{bahan.qty}}">
                    <select name="satuan" id="satuan" class="rounded-lg" onchange="updateSatuan()">
                        {{#eachProduk this satuan}}
                            <option value="{{produk.Id}}" {{#ifEq this bahan.satuan.Id Id}}selected{{/ifEq}}>{{produk.nama}}</option>
                        {{/eachProduk}}
                    </select>
                </div>
            </div>
            <div class="flex flex-col w-1/2">
                <label for="harga" class="font-bold">Price</label>
                <div class="flex border border-slate-400 gap-2 items-center text-black bg-white rounded-lg">
                    <input type="number" class="flex-grow rounded-lg" name="harga" id="harga" placeholder="Harga" value="{{bahan.harga}}">
                    /
                    <div class="flex w-3/12 items-center gap-2">
                        <input type="number" class="w-2/4 rounded-lg" name="per" id="per" placeholder="0" min="1" value="{{bahan.per}}">
                        <span id="satuan-per" class="font-bold"></span>
                    </div>
                </div>
            </div>
        </div>
        <button type="submit" class="btn-primary px-4 py-2 rounded-xl">Save</button>
    </form>
</main>
<script>
    function updateSatuan() {
        const satuan = $("#satuan").find(":selected").text();
        $("#satuan-per").html(satuan);
    }

    updateSatuan()
</script>
